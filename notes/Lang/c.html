<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>lang</title>
  <meta name="generator" content="Amaya, see http://www.w3.org/Amaya/" />
</head>

<body>
<h1>Lang tidbits</h1>

<p></p>

<h2>C</h2>
<ul>
  <li>define function prototypes. without these, some c compilers assume
    function returns int and can take any no. of params.</li>
  <li>memset won't work on array of pointers.</li>
  <li>can't allocate memory to "file static" variables.</li>
  <li>.include to have only declarations, all definitions should go in .c</li>
  <li>include \n in strtok delimiter array to remove newlines from the read
  line</li>
  <li>core dumps at later point if arguments to vararg functions are not
  correct</li>
  <li>Following declaration causes core dump when initialized is used later in
    the program
    <ul>
      <li>char *propertyValues[] = { };</li>
      <li>int initialized = 0;</li>
    </ul>
  </li>
  <li>malloc (sizeof(variable)) vs malloc (sizeof(type))</li>
  <li>pass of uninitialized char pointer and expect changed value in calling
    function</li>
  <li>main { char *p = NULL;, f1(p) } f1 (char *p) { malloc, strcpy }</li>
  <li>don't use _t since these may be reserved by OS</li>
  <li>be aware of changes to return values
    <ul>
      <li>all socket calls return -1 upon failure so ( &lt; 0) check works</li>
      <li>getaddrinfo returns a nonzero error code on failure so ( &lt; 0)
        check will not work</li>
    </ul>
  </li>
  <li>Use char **values; vs char *values[] for declaration. Compilers assumes 1
    element and has resulted in memory corruption later.</li>
  <li>Platform specific: Linux doesn't have sa_len, ss_len, etc.</li>
  <li>Careful about socket structure sizes... Bind fail if sizeof sockaddr,
    success if sizeof sockaddr_in</li>
  <li>Pointer arithmetic: If want to increase by specific number, cast to (char
    *) before doing the addition.</li>
  <li>send,receive fail due to large PDU size in SCTP case.</li>
</ul>
</body>
</html>
